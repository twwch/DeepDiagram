# DeepDiagram AI: æ™ºèƒ½ AI å¯è§†åŒ–å¹³å°

**DeepDiagram AI** æ˜¯ä¸€ä¸ªå¼€æºçš„æ™ºèƒ½å¯è§†åŒ–å¹³å°ï¼Œåˆ©ç”¨ **Agentic AI** å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºä¸“ä¸šçš„å›¾è¡¨ã€‚ä¸ä¼ ç»Ÿå·¥å…·ä¸åŒï¼ŒDeepDiagram é‡‡ç”¨äº†å¤šæ™ºèƒ½ä½“æ¶æ„ï¼Œç”±ä¸“é—¨çš„æ™ºèƒ½ä½“å¤„ç†ä¸åŒçš„å¯è§†åŒ–é¢†åŸŸâ€”â€”ä»äº¤äº’å¼æ€ç»´å¯¼å›¾åˆ°å¤æ‚çš„æ•°æ®å›¾è¡¨ã€‚

**é¡¹ç›®ä½“éªŒåœ°å€: [http://121.4.104.214:81/](http://121.4.104.214:81/)**

![DeepDiagram AI Demo](./images/20251222-152234.gif)

![DeepDiagram AI Demo1](./images/20251225-170102.gif)

![DeepDiagram AI Demo2](./images/20260104-093043.gif)

![DeepDiagram AI Demo3](./images/20260104-093302.gif)

![DeepDiagram AI Demo4](./images/20260104-093459.gif)

---

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ§  æ€ç»´å¯¼å›¾æ™ºèƒ½ä½“ (Mind Map Agent)
- **æ ¸å¿ƒé©±åŠ¨**: `mind-elixir`
- **èƒ½åŠ›**: ç”Ÿæˆç»“æ„åŒ–çš„äº¤äº’å¼æ€ç»´å¯¼å›¾ã€‚
- **å·¥ä½œæµ**: æ”¯æŒå®æ—¶é¢„è§ˆå¹¶å¯¼å‡ºä¸º PNGã€‚

![æ€ç»´å¯¼å›¾æ¼”ç¤º](./images/mindmap.png)

### ğŸ§œâ€â™‚ï¸ æµç¨‹å›¾æ™ºèƒ½ä½“ (Flowchart Agent)
- **æ ¸å¿ƒé©±åŠ¨**: `React Flow`
- **èƒ½åŠ›**: åœ¨ç°ä»£äº¤äº’å¼ç”»å¸ƒä¸Šåˆ›å»ºè¯¦ç»†çš„æµç¨‹å›¾ã€‚
- **å·¥ä½œæµ**: æ”¯æŒè‡ªåŠ¨å¸ƒå±€å’Œé«˜è´¨é‡å›¾åƒå¯¼å‡ºã€‚

![æµç¨‹å›¾æ¼”ç¤º](./images/flow.png)

### ğŸ“Š æ•°æ®å›¾è¡¨æ™ºèƒ½ä½“ (Data Chart Agent)
- **æ ¸å¿ƒé©±åŠ¨**: `Apache ECharts`
- **èƒ½åŠ›**: ä½¿ç”¨æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ç­‰å¯è§†åŒ–æ•°æ®ã€‚
- **å·¥ä½œæµ**: åˆ†ææ•°æ®æˆ–æè¿°ä»¥ç”Ÿæˆä¸°å¯Œçš„ ECharts é…ç½®ã€‚

![æ•°æ®å›¾è¡¨æ¼”ç¤º](./images/chart.png)

### âœï¸ Draw.io æ™ºèƒ½ä½“
- **æ ¸å¿ƒé©±åŠ¨**: `Draw.io` (Atlas ä¸»é¢˜)
- **èƒ½åŠ›**: ç”Ÿæˆä¸ Draw.io ç”Ÿæ€ç³»ç»Ÿå…¼å®¹çš„ä¸“ä¸šçº§æŠ€æœ¯å›¾è¡¨ã€‚
- **å·¥ä½œæµ**: å…·æœ‰ **è‡ªåŠ¨å±…ä¸­** å’Œ **ä¾§è¾¹æ éšè—** åŠŸèƒ½çš„é«˜çº§ç”»å¸ƒï¼Œæä¾›ä¸“æ³¨çš„ç»˜å›¾ä½“éªŒã€‚

![Draw.io æ¼”ç¤º](./images/draw.png)

### ğŸ§œâ€â™€ï¸ Mermaid æ™ºèƒ½ä½“
- **æ ¸å¿ƒé©±åŠ¨**: `Mermaid.js` + `react-zoom-pan-pinch`
- **èƒ½åŠ›**: ç”Ÿæˆå¤æ‚çš„å›¾è¡¨ï¼ŒåŒ…æ‹¬åºåˆ—å›¾ã€ç”˜ç‰¹å›¾ã€æ—¶é—´çº¿ã€çŠ¶æ€å›¾å’Œç±»å›¾ã€‚
- **å·¥ä½œæµ**: åŸç”Ÿäº¤äº’å¼ç”»å¸ƒï¼Œæ”¯æŒè‡ªé€‚åº”ç¼©æ”¾ã€ç¼©æ”¾/å¹³ç§»æ§åˆ¶ä»¥åŠé«˜åˆ†è¾¨ç‡ SVG/PNG å¯¼å‡ºã€‚

![Mermaid æ¼”ç¤º](./images/mermaid.png)

### ğŸ¨ ä¿¡æ¯å›¾æ™ºèƒ½ä½“ (Infographic Agent)
- **æ ¸å¿ƒé©±åŠ¨**: `AntV Infographic`
- **èƒ½åŠ›**: æ™ºèƒ½ç”Ÿæˆä¸“ä¸šçš„ä¿¡æ¯å›¾ã€æ•°æ®æµ·æŠ¥å’Œè§†è§‰æ‘˜è¦ã€‚
- **å·¥ä½œæµ**: åŸºäºå£°æ˜å¼ DSL è¯­æ³•ç”Ÿæˆï¼Œå†…ç½®ä¸°å¯Œæ¨¡æ¿ï¼Œæ”¯æŒé«˜è´¨é‡ SVG æ¸²æŸ“ã€‚

![Infographic æ¼”ç¤º](./images/20260107-173449.gif)

### ğŸ¤– æ™ºèƒ½è·¯ç”±ä¸å¤šæ¨¡æ€ (Intelligent Router & Multimodal)
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: åŸºäº ReAct çš„ç¼–æ’å±‚ï¼Œæ ¹æ®æ„å›¾è‡ªåŠ¨å°†è¯·æ±‚è·¯ç”±åˆ°æœ€ä½³æ™ºèƒ½ä½“ã€‚
- **å¤šæ¨¡æ€**: æ”¯æŒå›¾åƒä¸Šä¼ ã€‚ä¸Šä¼ ç™½æ¿ç…§ç‰‡æˆ–è‰å›¾ï¼ŒDeepDiagram AI å³å¯å°†å…¶æ•°å­—åŒ–ã€‚

### ğŸ“œ æŒä¹…åŒ–å†å²ä¸ç‰ˆæœ¬åˆ†æ”¯
- **ä¼šè¯ç®¡ç†**: æ”¯æŒç»´æŠ¤å¤šä¸ªèŠå¤©ä¼šè¯ï¼Œè‡ªåŠ¨æ¢å¤çŠ¶æ€ï¼ˆåŒ…æ‹¬ç”Ÿæˆçš„å›¾è¡¨ã€å½“å‰ä»£ç å’Œæ‰§è¡Œè¿‡ç¨‹å›æº¯ï¼‰ã€‚
- **æ¶ˆæ¯åˆ†æ”¯ (Branching)**: åŠ©ç†å“åº”æ”¯æŒâ€œé‡è¯•â€å¹¶äº§ç”Ÿæ–°åˆ†æ”¯ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å†…ç½®çš„åˆ†é¡µæ§ä»¶åœ¨ä¸åŒç‰ˆæœ¬çš„å¯è§†åŒ–æ–¹æ¡ˆé—´çµæ´»åˆ‡æ¢ã€‚
- **å¯é å­˜å‚¨**: é‡‡ç”¨ PostgreSQL å­˜å‚¨å¤æ‚çš„æŠ€æœ¯æ‰§è¡Œé“¾è·¯å’Œå¤šæ¨¡æ€æ•°æ®ï¼Œç¡®ä¿é•¿å¯¹è¯çš„ç¨³å®šæ£€ç´¢ã€‚

---

## âœ¨ ç”¨æˆ·ç•Œé¢ä¼˜åŒ–

- **ç°ä»£èŠå¤©è¾“å…¥**: é‡æ–°è®¾è®¡çš„è¾“å…¥å¡ç‰‡ï¼Œå…·æœ‰æ•´æ´çš„è¾¹æ¡†å¸ƒå±€å’Œåº•éƒ¨å¯¹é½çš„æ“ä½œæŒ‰é’®ï¼ˆå›å½¢é’ˆç”¨äºä¸Šä¼ ï¼Œå‘é€ç”¨äºæäº¤ï¼‰ã€‚
- **ç¨³å®šå¸ƒå±€**: å›¾åƒé¢„è§ˆä½äºæ™ºèƒ½ä½“å¿«æ·æ–¹å¼ä¸Šæ–¹ï¼Œç¡®ä¿å·¥å…·æ åœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­ä¿æŒå›ºå®šä¸”æ˜“äºè®¿é—®ã€‚
- **å¯è°ƒèŠ‚å¸ƒå±€**: ä½¿ç”¨ä¸“ä¸šçº§çš„å¯æ‹–åŠ¨åˆ†éš”ç¬¦çµæ´»è°ƒæ•´ç»˜å›¾ç”»å¸ƒå’ŒèŠå¤©é¢æ¿çš„å®½åº¦ã€‚
- **è¿‡ç¨‹å›æº¯æ“ä½œ (Process Trace Actions)**:
  - **ä¸Šä¸‹æ–‡æ¸²æŸ“**: ç›´æ¥ä»è¿‡ç¨‹å›æº¯ä¸­è§¦å‘ç‰¹å®šæ™ºèƒ½ä½“çš„æ¸²æŸ“ã€‚
  - **å®æ—¶åé¦ˆ**: å®æ—¶çŠ¶æ€æ ‡ç­¾ï¼ˆä¾‹å¦‚â€œæ¸²æŸ“å¤±è´¥â€ï¼‰ï¼Œåœ¨æˆåŠŸé‡æ–°è¿è¡Œåç«‹å³æ¸…é™¤ã€‚
  - **å›æº¯æ—¥å¿—**: æ ¼å¼åŒ–çš„ JSON æ—¥å¿—ï¼Œç”¨äºè°ƒè¯•å’Œæé«˜é€æ˜åº¦ã€‚

---

## ğŸ— ç³»ç»Ÿæ¶æ„

DeepDiagram AI ä½¿ç”¨ **React + FastAPI** æ¶æ„ï¼Œå¹¶ç”± **LangGraph** è¿›è¡Œç¼–æ’ã€‚æ›´æ–°é€šè¿‡ **SSE (Server-Sent Events)** æµå¼ä¼ è¾“åˆ°å‰ç«¯ï¼Œä»¥å®ç°å®æ—¶é¢„è§ˆä½“éªŒã€‚

```mermaid
graph TD
    Input[ç”¨æˆ·è¯·æ±‚: æ–‡å­—/å›¾ç‰‡] --> Router[æ™ºèƒ½è·¯ç”±]
    Router -- çŠ¶æ€åŒæ­¥ --> Graph[LangGraph ç¼–æ’å±‚]

    subgraph Agents [ä¸“ä¸šæ™ºèƒ½ä½“]
        AgentMM[æ€ç»´å¯¼å›¾æ™ºèƒ½ä½“]
        AgentFlow[æµç¨‹å›¾æ™ºèƒ½ä½“]
        AgentChart[æ•°æ®å›¾è¡¨æ™ºèƒ½ä½“]
        AgentDraw[Draw.io æ™ºèƒ½ä½“]
        AgentMermaid[Mermaid æ™ºèƒ½ä½“]
        AgentInfo[ä¿¡æ¯å›¾æ™ºèƒ½ä½“]
        AgentGen[é€šç”¨æ™ºèƒ½ä½“]
    end

    Graph --> Agents

    subgraph Loop [ReAct æœºåˆ¶]
        Agents --> LLM{LLM æ¨ç†}
        LLM -->|å·¥å…·è°ƒç”¨| Tools[MCP å·¥å…·/æ’ä»¶]
        Tools -->|æ‰§è¡Œç»“æœ| LLM
        LLM -->|æœ€ç»ˆå“åº”| Code[ç»“æ„åŒ–ä»£ç : Code/XML/JSON]
    end

    Code -->|SSE æµ| Backend[FastAPI åç«¯]
    Backend -->|å®æ—¶é¢„è§ˆ| Frontend[React 19 å‰ç«¯]
    Frontend -->|æ¸²æŸ“| Canvas[äº¤äº’å¼ç”»å¸ƒé¢æ¿]

    style Input fill:#f9f,stroke:#333
    style Router fill:#bbf,stroke:#333
    style Code fill:#bfb,stroke:#333
    style Canvas fill:#fdf,stroke:#333
```

---

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 19, Vite, TypeScript, TailwindCSS, Zustand, React Flow, Mind-elixir, react-resizable-panels, AntV Infographicã€‚
- **åç«¯**: Python 3.10+, FastAPI, LangGraph, LangChain, PostgreSQL (SQLModel), DeepSeek/OpenAIã€‚
- **åŒ…ç®¡ç†å™¨**: `uv` (Python), `npm` (Node.js)ã€‚

---

## ğŸ å¼€å§‹ä½¿ç”¨

### å‰ç½®æ¡ä»¶
- **Python**: 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: v20 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Docker & Docker Compose**: æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒ

### æ–¹æ¡ˆ 1: å¼€å‘ç¯å¢ƒ
#### 1. åç«¯è®¾ç½®
```bash
cd backend
uv sync
bash start_backend.sh
```

#### 2. å‰ç«¯è®¾ç½®
```bash
cd frontend
npm install
npm run dev
```
è®¿é—® `http://localhost:5173`ã€‚

### æ–¹æ¡ˆ 2: Docker éƒ¨ç½² (æ¨è)
ä½ å¯ä»¥ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²æ•´ä¸ªå †æ ˆã€‚è¿™å°†å¯åŠ¨å‰ç«¯ã€åç«¯å’Œ PostgreSQL æ•°æ®åº“ã€‚

#### 1. é…ç½®
åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API å¯†é’¥ï¼š
```env
OPENAI_API_KEY=your_key_here
OPENAI_BASE_URL=https://api.openai.com
MODEL_ID=claude-sonnet-3.7 (å¯é€‰ï¼Œé»˜è®¤ä¸º claude-sonnet-3.7)
DEEPSEEK_API_KEY=your_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com
```

#### 2. å¯åŠ¨
```bash
docker-compose up -d
```
è®¿é—® `http://localhost`ã€‚å‰ç«¯å°†ç”± Nginx åœ¨ 80 ç«¯å£æä¾›æœåŠ¡ï¼Œå¹¶è‡ªåŠ¨å°† API è¯·æ±‚è½¬å‘åˆ°åç«¯ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

1.  **è‡ªç„¶è¯­è¨€ä¸å¤šæ¨¡æ€**: è¾“å…¥æ‚¨çš„è¯·æ±‚æˆ–ä¸Šä¼ å›¾ç‰‡ï¼ˆä¾‹å¦‚ï¼Œâ€œä¸ºç”¨æˆ·ç™»å½•åˆ›å»ºä¸€ä¸ªæµç¨‹å›¾â€ï¼‰ã€‚
2.  **äº¤äº’å¼ç”»å¸ƒ**: æ ¹æ®æ‚¨çš„å·¥ä½œæµç¨‹æ‹–åŠ¨å¹¶è°ƒæ•´é¢æ¿å¤§å°ã€‚
3.  **å¯¼å‡ºä¸åˆ†äº«**: ä½¿ç”¨å›¾è¡¨ä¸Šæ–¹çš„å·¥å…·æ ä¸‹è½½ä¸º PNG æˆ– SVGã€‚
4.  **ä¼˜åŒ–**: è¦æ±‚ AI è°ƒæ•´ç»“æœï¼ˆä¾‹å¦‚ï¼Œâ€œåœ¨æµç¨‹ä¸­æ·»åŠ â€˜å¿˜è®°å¯†ç â€™æ­¥éª¤â€ï¼‰ã€‚

---

## ğŸ—º è·¯çº¿å›¾

- [x] åŒ…å« 3 ä¸ªæ ¸å¿ƒæ™ºèƒ½ä½“ (æ€ç»´å¯¼å›¾ã€æµç¨‹å›¾ã€å›¾è¡¨) çš„ MVP
- [x] Draw.io é›†æˆ
- [x] ç‹¬ç«‹çš„ Mermaid æ™ºèƒ½ä½“
- [x] å¯è°ƒèŠ‚çš„ä»»åŠ¡æ å¸ƒå±€
- [x] å¢å¼ºçš„æ¶ˆæ¯æ“ä½œä¸å¤åˆ¶é€»è¾‘
- [x] æŒä¹…åŒ–ä¼šè¯ä¸èŠå¤©å†å²ç®¡ç†
- [x] æ¶ˆæ¯åˆ†æ”¯ä¸å¤šç‰ˆæœ¬å¯¼èˆªé€»è¾‘
- [x] ä¸€é”®æ–°å»ºä¼šè¯ (ä¸Šä¸‹æ–‡é‡ç½®)
- [ ] å¢å¼ºå‹å¤šæ¨¡æ€ï¼šæ”¯æŒéå›¾ç‰‡æ–‡ä»¶ (PDF, Docx ç­‰) è§£æ

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=twwch/DeepDiagram&type=date&legend=top-left)](https://www.star-history.com/#twwch/DeepDiagram&type=date&legend=top-left)

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **GNU Affero General Public License v3.0 (AGPL-3.0)** åè®®ã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚
